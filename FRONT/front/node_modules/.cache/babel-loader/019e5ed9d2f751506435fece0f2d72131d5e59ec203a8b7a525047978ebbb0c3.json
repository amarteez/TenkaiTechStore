{"ast":null,"code":"import React,{useEffect,useState}from'react';import Product from'./Product';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const[categories,setCategories]=useState([]);const[products,setProducts]=useState([]);useEffect(()=>{// Fetch categories\nfetch('/api/products/categories/').then(response=>{if(!response.ok){return response.text().then(text=>{throw new Error(text);});}return response.json();}).then(data=>setCategories(data)).catch(error=>console.error('Error fetching categories:',error));// Fetch products\nfetch('/api/products/').then(response=>{if(!response.ok){return response.text().then(text=>{throw new Error(text);});}return response.json();}).then(data=>setProducts(data)).catch(error=>console.error('Error fetching products:',error));},[]);const categorizedProducts=categories.reduce((acc,category)=>{acc[category.name]=products.filter(product=>product.category===category.name);return acc;},{});return/*#__PURE__*/_jsx(\"div\",{className:\"product-list\",children:Object.keys(categorizedProducts).map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-category\",children:[/*#__PURE__*/_jsx(\"h2\",{children:category}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:categorizedProducts[category].map(product=>/*#__PURE__*/_jsx(Product,{name:product.name,image:product.image,description:product.description,price:product.price,onAddToCart:()=>handleAddToCart(product)},product.id))})]},category))});};const handleAddToCart=product=>{// Implement the logic to add the product to the cart\nconsole.log('Add to cart:',product);};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","Product","jsx","_jsx","jsxs","_jsxs","ProductList","categories","setCategories","products","setProducts","fetch","then","response","ok","text","Error","json","data","catch","error","console","categorizedProducts","reduce","acc","category","name","filter","product","className","children","Object","keys","map","image","description","price","onAddToCart","handleAddToCart","id","log"],"sources":["C:/Users/admin/Desktop/BACK/FRONT/front/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Product from './Product';\n\nconst ProductList = () => {\n    const [categories, setCategories] = useState([]);\n    const [products, setProducts] = useState([]);\n\n    useEffect(() => {\n        // Fetch categories\n        fetch('/api/products/categories/')\n            .then(response => {\n                if (!response.ok) {\n                    return response.text().then(text => { throw new Error(text) });\n                }\n                return response.json();\n            })\n            .then(data => setCategories(data))\n            .catch(error => console.error('Error fetching categories:', error));\n\n        // Fetch products\n        fetch('/api/products/')\n            .then(response => {\n                if (!response.ok) {\n                    return response.text().then(text => { throw new Error(text) });\n                }\n                return response.json();\n            })\n            .then(data => setProducts(data))\n            .catch(error => console.error('Error fetching products:', error));\n    }, []);\n\n    const categorizedProducts = categories.reduce((acc, category) => {\n        acc[category.name] = products.filter(product => product.category === category.name);\n        return acc;\n    }, {});\n\n    return (\n        <div className=\"product-list\">\n            {Object.keys(categorizedProducts).map(category => (\n                <div key={category} className=\"product-category\">\n                    <h2>{category}</h2>\n                    <div className=\"products\">\n                        {categorizedProducts[category].map(product => (\n                            <Product\n                                key={product.id}\n                                name={product.name}\n                                image={product.image}\n                                description={product.description}\n                                price={product.price}\n                                onAddToCart={() => handleAddToCart(product)}\n                            />\n                        ))}\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nconst handleAddToCart = (product) => {\n    // Implement the logic to add the product to the cart\n    console.log('Add to cart:', product);\n}\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}